function large 180 algorithm error 